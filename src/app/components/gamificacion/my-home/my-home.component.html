<div class="game-container" *ngIf="gameStarted; else startScreen">
  <h2>Sector: {{ currentScene.title }}</h2>

  <div class="scene">
    <img [src]="currentScene.image" class="scene-image" alt="{{ currentScene.title }}" />

    <div
      *ngFor="let leak of currentScene.leaks"
      class="leak"
      [ngStyle]="{ top: leak.y + '%', left: leak.x + '%' }"
      [class.closed]="leak.closed"
      (click)="closeLeak(leak)"
    ></div>
  </div>

  <div class="score">
    {{ closedLeaksCount }}/{{ currentScene.leaks.length }} fugas cerradas
  </div>

  <div class="controls">
    <button (click)="restartGame()">ğŸ”„ Reiniciar</button>
  </div>

  <div class="popup" *ngIf="showNextScenePopup">
    <div class="popup-content">
      <h3>Â¡Excelente! Cerraste todas las fugas del {{ currentScene.title }} ğŸ’§</h3>
      <button (click)="nextScene()">Siguiente sector â¡ï¸</button>
    </div>
  </div>
</div>

<ng-template #startScreen>
  <div class="start-screen">
    <h2>ğŸ’¦ Juego del Hogar Sustentable ğŸ’¦</h2>
    <p>DescubrÃ­ y cerrÃ¡ las fugas de agua en cada sector del hogar.</p>
    <button (click)="startGame()">Comenzar</button>
  </div>
</ng-template>